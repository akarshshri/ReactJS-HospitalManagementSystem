<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <title>Hospital Management</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
<script>
  
  const deleted = (index)=>{
    let temp2 = []
  temp2 = JSON.parse(localStorage.getItem('patinfo'));
  temp2.splice(index,1);
  localStorage.setItem('patinfo', JSON.stringify(temp2));
  patUpdate();
  }


  const patUpdate = () => {
    
    let s = '';
    var patinfo = document.getElementById('tableBody')
    if (localStorage.getItem('patinfo') !== '[]') {
      var arr2 = JSON.parse(localStorage.getItem('patinfo'))
      arr2.map((e,index) => (
        s += `<tr>
      <th scope="row">${e.name}</th>
      <td>${e.age}</td>
      <td>${e.address}</td>
      <td>${e.city}</td>
      <td>${e.bg}</td>
      <td>${e.covid}</td>
      <td><button class="deletebtn btn btn-sm btn-danger" id="${index}" onclick="deleted(${index})">Delete</button></td>
       </tr>
       `
      ))
      patinfo.innerHTML = s;
    }else{
      patinfo = document.getElementById('doctorinfo')
      patinfo.innerHTML = '<h4>No Patient at this moment</h4>';
    }
  }

    </script>
  </body>
</html>
